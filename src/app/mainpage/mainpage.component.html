<div class="main">
  <app-settings @insertSideSettings *ngIf="setVar"></app-settings>
  <div class="forecast-container">
    <button mat-flat-button class="forecast" id="now">Now</button>
    <button mat-flat-button class="forecast" id="hour">3H</button>
    <button mat-flat-button class="forecast" id="day">1D</button>
  </div>
  <app-search
    [@moveInputUp]="(this.sessionQuery.weatherData$ | async) ? 'up' : 'center'"
    (showErrorEvent)="showError(true)"></app-search>
  <div [@showTemp]="tempAnimation ? 'zero' : 'full'">
    <ng-template [ngIf]="(this.sessionQuery.weatherData$ | async) !== null" [ngIfElse]="noData" >
      <div class="wind">
        Wind speed: {{(this.sessionQuery.weatherData$ | async)?.wind.speed}} {{speedSystem}}
        <app-canvas [speedData]="(this.sessionQuery.weatherData$ | async)?.wind.speed / 100"></app-canvas>
      </div>
      <div class="main-temp">
        {{(this.sessionQuery.weatherData$ | async)?.main.temp | round}}&deg;{{degreeLetter}}
      </div>
      <div class="temp-info" @insertTempData *ngIf="tempDataAnimation">
        <div>
          <p>Feels like: {{(this.sessionQuery.weatherData$ | async)?.main.feels_like | round}}&deg;{{degreeLetter}}</p>
        </div>
        <div>
          <p>Cloudiness: {{(this.sessionQuery.weatherData$ | async)?.clouds.all}}%</p>
        </div>
        <div>
          <p>Humidity: {{(this.sessionQuery.weatherData$ | async)?.main.humidity | round}}%</p>
        </div>
        <div>
          <p>Pressure: {{(this.sessionQuery.weatherData$ | async)?.main.pressure | round}} hPa</p>
        </div>
      </div>
    </ng-template>
  </div>
  <div class="thanks">
    <p class="data">
      All data is brought to you by
      <a href="https://openweathermap.org/" title="https://openweathermap.org/">openweathermap.org</a>
    </p>
  </div>
  <div class="copyright">&copy; Ioannis Mikhailidis</div>
</div>
<ng-template #noData>
  <p class="noData" *ngIf="checkData">No data to show!<br>You might have not chosen city or made a mistake!</p>
</ng-template>
